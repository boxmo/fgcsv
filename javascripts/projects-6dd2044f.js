(function(){var e;this.Project=function(){function e(){this.links=$("[data-behavior~=project-link]"),this.project_list=$("[data-behavior~=projects]"),this.projects=this.project_list.find("[data-behavior~=project]"),this.projects_top=$("#projects").offset().top,this.arrows=$("[data-behavior~=projects-arrow]"),this.close=$("[data-behavior~=project-about-close]"),this.categories_filter=$("[data-behavior~=category-filter]"),this.unfilter_projects_link=$("[data-behavior~=unfilter-projects]"),this.first_click=!0,this.cover_click=!1,this.apply_handlers()}return e.prototype.apply_handlers=function(){var e;return e=this,this.links.on("click",function(){var t;return t=$(this).data("project-id"),e.show_slide_at(t,$(this))}),this.arrows.on("click",function(){var t;return t=$(this).data("project-id"),e.show_slide_at(t,$(this))}),this.close.on("click",function(){return e.projects.hide(),e.first_click=!0,$("html, body").animate({scrollTop:e.projects_top},1e3)}),this.categories_filter.on("click",function(){var t;return t=$(this),t.hasClass("active")?(console.log("active"),$(this).removeClass("active"),e.unfilter_projects()):(console.log("not"),e.categories_filter.removeClass("active"),$(this).addClass("active"),e.filter_projects($(this).data("category")))}),this.unfilter_projects_link.on("click",function(){return e.categories_filter.removeClass("active"),e.unfilter_projects()})},e.prototype.show_slide_at=function(e,t){var n;return n=this.project_list.find("#project-"+e),this.projects.hide(),this.display_project(n),this.first_click=!1,t.parents(".cover").length?this.cover_click=!0:this.cover_click=!1},e.prototype.filter_projects=function(e){var t,n,r,i,s,o,u,a,f,l,c,h;r=e.split(","),h=this.links;for(a=0,l=h.length;a<l;a++){i=h[a],o=$(i).parents(".project"),s=o.data("categories").split(","),n=0;for(f=0,c=r.length;f<c;f++)t=r[f],n+=s.indexOf(t);n<0?this.mobile()?o.hide():o.addClass("opaque"):this.mobile()?o.show():o.removeClass("opaque")}if(this.mobile())return u=$("#projects-list").offset().top,$("html, body").animate({scrollTop:u-50},1e3)},e.prototype.unfilter_projects=function(){var e,t,n,r,i,s;i=this.links,s=[];for(n=0,r=i.length;n<r;n++)e=i[n],t=$(e).parents(".project"),screen.width<768?s.push($(t).hide()):s.push($(t).removeClass("opaque"));return s},e.prototype.display_project=function(e){var t;e.show();if(this.first_click||this.cover_click){t=e.offset().top;if(t>200)return $("html, body").animate({scrollTop:t-100},1e3)}},e.prototype.mobile=function(){return screen.width<768?!0:!1},e}(),e=new this.Project}).call(this);